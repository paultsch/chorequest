<%# Bottom navigation bar for the child public page.
    Locals: child (Child), token (String), todays_ready (Boolean) %>
<nav class="fixed bottom-0 inset-x-0 z-40 bg-white border-t border-gray-200
            flex items-center justify-around h-16"
     style="padding-bottom: env(safe-area-inset-bottom)">

  <%# Home / Chores %>
  <%= link_to public_child_path(token),
        class: "flex flex-col items-center gap-0.5 px-6 text-blue-600 hover:text-blue-800 transition-colors" do %>
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0h6"/>
    </svg>
    <span class="text-xs font-semibold">Chores</span>
  <% end %>

  <%# Play â€” green + active when all today's chores are approved, greyed out otherwise %>
  <% if todays_ready %>
    <%= link_to public_play_path(token),
          class: "flex flex-col items-center gap-0.5 px-6 text-green-600 hover:text-green-800 transition-colors" do %>
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
      </svg>
      <span class="text-xs font-bold">Play!</span>
    <% end %>
  <% else %>
    <div class="flex flex-col items-center gap-0.5 px-6 text-gray-300 cursor-not-allowed">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
      </svg>
      <span class="text-xs font-semibold">Play</span>
    </div>
  <% end %>

  <%# Token balance %>
  <div class="flex flex-col items-center gap-0.5 px-6 text-yellow-500">
    <span class="text-xl leading-none">ðŸª™</span>
    <span class="text-xs font-bold text-yellow-600"><%= child.token_balance %></span>
  </div>

</nav>
